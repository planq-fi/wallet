(self.webpackJsonp=self.webpackJsonp||[]).push([[20],{2713:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TokenMigrationStepper",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"makeTokenMigrationTxConfig",{enumerable:!0,get:function(){return a.makeTokenMigrationTxConfig}}),t.default=void 0;var r,o=(r=n(2812))&&r.__esModule?r:{default:r},a=n(2722);var i=o.default;t.default=i},2722:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeTokenMigrationTxConfig=void 0;var r=n(333);t.makeTokenMigrationTxConfig=(e,t,n)=>o=>{const{address:a,network:i}=t,s=(0,r.getAssetByUUID)(t.assets)(i.baseAsset),c=(0,r.getAssetByUUID)(t.assets)(o.fromAssetUuid);return{from:a,receiverAddress:t.address,senderAccount:t,networkId:i.id,asset:c,baseAsset:s,amount:n,rawTransaction:e}}},2727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MIGRATION_CONFIGS=void 0;var r=n(16),o=n(2815),a=n(2817),i=n(2819),s=n(2821);const c={[r.MigrationType.REP]:s.repTokenMigrationConfig,[r.MigrationType.ANT]:a.tokenMigrationConfig,[r.MigrationType.GOLEM]:i.golemTokenMigrationConfig,[r.MigrationType.AAVE]:o.migrationConfig};t.MIGRATION_CONFIGS=c},2728:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.migrationConfig=t.MIGRATION_CONTRACT=t.LEND_CONTRACT=t.AAVE_CONTRACT=void 0;var r=l(n(657)),o=l(n(659)),a=n(11),i=n(9),s=n(16),c=n(8),u=n(2816);function l(e){return e&&e.__esModule?e:{default:e}}const T="0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9";t.AAVE_CONTRACT=T;const f="0x80fB784B7eD66730e8b1DBd9820aFD29931aab03";t.LEND_CONTRACT=f;t.MIGRATION_CONTRACT="0x317625234562B1526Ea2FaC4030Ea499C5291de4";const O={title:(0,i.translateRaw)("AAVE Token Migration"),toContractAddress:T,fromContractAddress:f,fromAssetUuid:(0,c.generateAssetUUID)(a.DEFAULT_NETWORK_CHAINID,f),toAssetUuid:(0,c.generateAssetUUID)(a.DEFAULT_NETWORK_CHAINID,T),formActionBtn:(0,i.translateRaw)("AAVE_TOKEN_MIGRATION"),formAmountTooltip:(0,i.translateRaw)("AAVE_TOKEN_MIGRATION_AMOUNT_DISABLED_TOOLTIP"),receiptTitle:(0,i.translateRaw)("AAVE_TOKEN_MIGRATION_RECEIPT"),txConstructionConfigs:[{txType:s.ITxType.APPROVAL,stepTitle:(0,i.translateRaw)("APPROVE_AAVE_TOKEN_MIGRATION"),stepContent:(0,i.translateRaw)("AAVE_TOKEN_MIGRATION_STEP1_TEXT"),actionBtnText:(0,i.translateRaw)("APPROVE_AAVE_TOKEN_MIGRATION"),stepSvg:o.default,constructTxFn:u.createApproveTx},{txType:s.ITxType.AAVE_TOKEN_MIGRATION,stepTitle:(0,i.translateRaw)("COMPLETE_AAVE_TOKEN_MIGRATION"),stepContent:(0,i.translateRaw)("AAVE_TOKEN_MIGRATION_STEP2_TEXT"),actionBtnText:(0,i.translateRaw)("CONFIRM_TRANSACTION"),stepSvg:r.default,constructTxFn:u.createMigrationTx}]};t.migrationConfig=O},2729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tokenMigrationConfig=t.MIGRATION_CONTRACT=t.ANTv2_CONTRACT=t.ANTv1_CONTRACT=void 0;var r=u(n(657)),o=u(n(659)),a=n(9),i=n(16),s=n(8),c=n(2818);function u(e){return e&&e.__esModule?e:{default:e}}const l="0x960b236A07cf122663c4303350609A66A7B288C0";t.ANTv1_CONTRACT=l;const T="0xa117000000f279D81A1D3cc75430fAA017FA5A2e";t.ANTv2_CONTRACT=T;t.MIGRATION_CONTRACT="0x078BEbC744B819657e1927bF41aB8C74cBBF912D";const f={title:(0,a.translateRaw)("ANT Token Migration"),toContractAddress:T,fromContractAddress:l,fromAssetUuid:(0,s.generateAssetUUID)(1,l),toAssetUuid:(0,s.generateAssetUUID)(1,T),formActionBtn:(0,a.translateRaw)("ANT_TOKEN_MIGRATION"),formAmountTooltip:(0,a.translateRaw)("ANT_TOKEN_MIGRATION_AMOUNT_DISABLED_TOOLTIP"),receiptTitle:(0,a.translateRaw)("ANT_TOKEN_MIGRATION_RECEIPT"),txConstructionConfigs:[{txType:i.ITxType.APPROVAL,stepTitle:(0,a.translateRaw)("APPROVE_ANT_TOKEN_MIGRATION"),stepContent:(0,a.translateRaw)("ANT_TOKEN_MIGRATION_STEP1_TEXT"),actionBtnText:(0,a.translateRaw)("APPROVE_ANT_TOKEN_MIGRATION"),stepSvg:o.default,constructTxFn:c.createApproveTx},{txType:i.ITxType.ANT_TOKEN_MIGRATION,stepTitle:(0,a.translateRaw)("COMPLETE_ANT_TOKEN_MIGRATION"),stepContent:(0,a.translateRaw)("ANT_TOKEN_MIGRATION_STEP2_TEXT"),actionBtnText:(0,a.translateRaw)("CONFIRM_TRANSACTION"),stepSvg:r.default,constructTxFn:c.createMigrationTx}]};t.tokenMigrationConfig=f},2730:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOKEN_MIGRATION_GAS_LIMIT=t.golemTokenMigrationConfig=void 0;var r,o=(r=n(657))&&r.__esModule?r:{default:r},a=n(11),i=n(9),s=n(16),c=n(2820);const u={title:(0,i.translateRaw)("GOLEM Token Migration"),toContractAddress:"0x7DD9c5Cba05E151C895FDe1CF355C9A1D5DA6429",fromContractAddress:"0xa74476443119A942dE498590Fe1f2454d7D4aC0d",fromAssetUuid:a.GOLEMV1UUID,toAssetUuid:a.GOLEMV2UUID,formActionBtn:(0,i.translateRaw)("GOLEM_TOKEN_MIGRATION"),formAmountTooltip:(0,i.translateRaw)("GOLEM_TOKEN_MIGRATION_AMOUNT_DISABLED_TOOLTIP"),receiptTitle:(0,i.translateRaw)("GOLEM_TOKEN_MIGRATION_RECEIPT"),txConstructionConfigs:[{txType:s.ITxType.GOLEM_TOKEN_MIGRATION,stepTitle:(0,i.translateRaw)("COMPLETE_GOLEM_TOKEN_MIGRATION"),stepContent:(0,i.translateRaw)("GOLEM_TOKEN_MIGRATION_STEP1_TEXT"),actionBtnText:(0,i.translateRaw)("CONFIRM_TRANSACTION"),stepSvg:o.default,constructTxFn:c.createGolemMigrationTx}]};t.golemTokenMigrationConfig=u;t.TOKEN_MIGRATION_GAS_LIMIT=5e5},2731:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOKEN_MIGRATION_GAS_LIMIT=t.repTokenMigrationConfig=void 0;var r=u(n(657)),o=u(n(659)),a=n(11),i=n(9),s=n(16),c=n(2822);function u(e){return e&&e.__esModule?e:{default:e}}const l={title:(0,i.translateRaw)("REP Token Migration"),toContractAddress:"0x221657776846890989a759BA2973e427DfF5C9bB",fromContractAddress:"0x1985365e9f78359a9B6AD760e32412f4a445E862",fromAssetUuid:a.REPV1UUID,toAssetUuid:a.REPV2UUID,formActionBtn:(0,i.translateRaw)("REP_TOKEN_MIGRATION"),formAmountTooltip:(0,i.translateRaw)("REP_TOKEN_MIGRATION_AMOUNT_DISABLED_TOOLTIP"),receiptTitle:(0,i.translateRaw)("REP_TOKEN_MIGRATION_RECEIPT"),txConstructionConfigs:[{txType:s.ITxType.APPROVAL,stepTitle:(0,i.translateRaw)("APPROVE_REP_TOKEN_MIGRATION"),stepContent:(0,i.translateRaw)("REP_TOKEN_MIGRATION_STEP1_TEXT"),actionBtnText:(0,i.translateRaw)("APPROVE_REP_TOKEN_MIGRATION"),stepSvg:o.default,constructTxFn:c.createApproveTx},{txType:s.ITxType.REP_TOKEN_MIGRATION,stepTitle:(0,i.translateRaw)("COMPLETE_REP_TOKEN_MIGRATION"),stepContent:(0,i.translateRaw)("REP_TOKEN_MIGRATION_STEP2_TEXT"),actionBtnText:(0,i.translateRaw)("CONFIRM_TRANSACTION"),stepSvg:r.default,constructTxFn:c.createRepMigrationTx}]};t.repTokenMigrationConfig=l;t.TOKEN_MIGRATION_GAS_LIMIT=5e5},2812:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=n(14),a=b(n(1127)),i=n(11),s=n(2693),c=n(445),u=n(25),l=n(9),T=n(16),f=b(n(2813)),O=b(n(2814)),p=b(n(2823)),d=b(n(2824)),A=n(2727),g=n(2825),_=n(4);function b(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=()=>{const e=(0,u.useSelector)(u.getStoreAccounts),t=(0,u.useSelector)(u.getAssets),n=Object.values(T.MigrationType).find(n=>{const r=A.MIGRATION_CONFIGS[n],o=t.find(e=>e.uuid===r.fromAssetUuid),a=o&&(0,s.getAccountsWithAssetBalance)(e,o,"0.001");return a&&a.length>0}),[b,m]=(0,r.useReducer)(g.tokenMigrationReducer,{migration:T.MigrationType.REP});(0,r.useEffect)(()=>{n&&G(n)},[n]);const{state:E,prepareTx:R,sendTx:y,stopYield:M,initWith:N}=(0,c.useTxMulti)(),{canYield:C,isSubmitting:P,transactions:j,error:x}=E,{account:v,amount:w,migration:S}=b,D=A.MIGRATION_CONFIGS[S],G=e=>m({type:g.tokenMigrationReducer.actionTypes.SELECT_MIGRATION,payload:e}),k=[{label:(0,l.translateRaw)("TOKEN_MIGRATION_HEADER"),component:O.default,props:{changeMigration:G,migration:S,account:v,isSubmitting:P,error:x},actions:e=>{N(()=>{const t=D.txConstructionConfigs.map(t=>I(I({},t.constructTxFn(e)),{},{txType:t.txType,metadata:{receivingAsset:D.toAssetUuid}}));return Promise.resolve(t)},e.account,e.account.network),m({type:g.tokenMigrationReducer.actionTypes.FORM_SUBMIT,payload:e})}},...(0,o.createSignConfirmAndReceiptSteps)({transactions:j,backStepTitle:(0,l.translateRaw)("TOKEN_MIGRATION_HEADER"),amount:w,account:v,error:x,flowConfig:D,receiptTitle:D.receiptTitle,multiTxTitle:(0,l.translateRaw)("CONFIRM_TRANSACTION"),isSubmitting:P,receiptComponent:d.default,multiTxComponent:j.length>1?p.default:f.default,sendTx:y,prepareTx:R})];return(0,_.jsx)(a.default,{onRender:e=>{(0,r.useEffect)(()=>{C&&(1===j.length&&j[0].status===T.ITxStatus.PREPARING?R(j[0].txRaw):e(),M())},[C])},steps:k,defaultBackPath:i.ROUTE_PATHS.DASHBOARD.path,defaultBackPathLabel:i.ROUTE_PATHS.DASHBOARD.title})};t.default=R},2813:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({account:e,amount:t,currentTxIdx:n,flowConfig:s,transactions:c,onComplete:u,error:l}){var T;const f=c[n],O=()=>u&&u(),p=(0,a.makeTokenMigrationTxConfig)(f.txRaw,e,t)(s);return(0,i.jsx)(r.ConfirmTransaction,{onComplete:O,resetFlow:O,txConfig:p,error:l,txType:null!=(T=f.txType)?T:o.ITxType.STANDARD})};var r=n(14),o=n(16),a=n(2722),i=n(4)},2814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TokenMigrationFormUI=void 0;var r,o=n(0),a=n(46),i=n(136),s=n(329),c=n(96),u=(r=n(6))&&r.__esModule?r:{default:r},l=n(330),T=n(14),f=n(11),O=n(2693),p=n(105),d=n(76),A=n(43),g=n(332),_=n(25),b=n(7),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(9)),I=n(16),E=n(8),R=n(2727),y=n(4);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=(0,u.default)(T.Button).withConfig({displayName:"TokenMigrationForm__FormFieldSubmitButton",componentId:"ekp0ce-0"})(["width:100%;display:inline-block;&:disabled{background-color:rgba(0,122,153,0.3);}"]),x=({isSubmitting:e,error:t,network:n,relevantAccounts:r,storeDefaultAccount:c,defaultAsset:u,migration:f,onComplete:A,changeMigration:g,isDemoMode:_})=>{const M=(0,O.getAccountsWithAssetBalance)(r,u,"0.001"),N=(0,l.object)().shape({amount:(0,l.number)().min(0,(0,m.translateRaw)("ERROR_0")).required((0,m.translateRaw)("REQUIRED")).typeError((0,m.translateRaw)("ERROR_0"))}),{values:P,errors:x,touched:v,setFieldValue:w,setFieldTouched:S}=(0,s.useFormik)({initialValues:(D=c,{account:D,amount:"0",asset:u,nonce:"0",gasPrice:"20",address:"",gasLimit:"",network:n,maxFeePerGas:"20",maxPriorityFeePerGas:"1"}),enableReinitialize:!0,validationSchema:N,onSubmit:E.noOp});var D;const{amount:G,asset:k,account:h}=P,L=R.MIGRATION_CONFIGS[f];(0,o.useEffect)(()=>{if(!P.account)return;const e=P.account.assets.find(e=>e.uuid===L.fromAssetUuid);e&&k.decimal&&(w("amount",(0,i.formatUnits)(a.BigNumber.from(e.balance),k.decimal)),w("account",P.account),F(P.account))},[P.account,P.asset]);const F=async e=>{const t=await(0,d.getNonce)(P.network,e.address);w("nonce",t)};(0,o.useEffect)(()=>{G&&k&&h&&!(0,O.getAccountsWithAssetBalance)(M,u,G).find(e=>e.uuid===h.uuid)&&w("account",void 0)},[G,k]);const U=(0,E.isFormValid)(x),B=Object.values(I.MigrationType).map(e=>({label:e.toString(),value:e})),K=B.find(e=>e.value===f);return(0,y.jsxs)(y.Fragment,{children:[_&&(0,y.jsx)(T.DemoGatewayBanner,{}),(0,y.jsxs)(T.Box,{mb:b.SPACING.LG,children:[(0,y.jsx)(T.Label,{htmlFor:"text-selector",children:(0,m.default)("SELECT_A_MIGRATION")}),(0,y.jsx)(T.TextSelector,{value:K,options:B,onChange:e=>g(e.value)})]}),(0,y.jsxs)(T.Box,{mb:b.SPACING.LG,children:[(0,y.jsx)(T.Label,{htmlFor:"account",children:(0,m.default)("SELECT_YOUR_ACCOUNT")}),(0,y.jsx)(T.AccountSelector,{name:"account",value:P.account||null,accounts:M,asset:P.asset,onSelect:e=>{w("account",e)}}),0===M.length&&(0,y.jsx)(T.InlineMessage,{children:(0,m.translateRaw)("NO_RELEVANT_ACCOUNTS")})]}),(0,y.jsxs)(T.Box,{mb:b.SPACING.LG,display:"flex",flexDirection:"column",children:[(0,y.jsx)(T.Tooltip,{tooltip:L.formAmountTooltip,children:(0,y.jsx)(T.Label,{htmlFor:"amount",children:(0,m.default)("SEND_ASSETS_AMOUNT_LABEL")})}),(0,y.jsx)(T.AmountInput,{disabled:!0,asset:P.asset,value:P.amount||"0",onChange:E.noOp,onBlur:()=>{S("amount")},placeholder:"0.00"}),x&&x.amount&&v&&v.amount?(0,y.jsx)(T.InlineMessage,{className:"SendAssetsForm-errors",children:x.amount}):null]}),(0,y.jsx)(j,{type:"submit",loading:e,onClick:()=>{U&&(0,p.fetchUniversalGasPriceEstimate)(P.network).then(({estimate:e})=>{A(C(C({},P),e))}).catch(console.error)},disabled:!U||_,"data-testid":"confirm-migrate",children:L.formActionBtn}),t&&(0,y.jsx)(T.InlineMessage,{value:(0,m.default)("GAS_LIMIT_ESTIMATION_ERROR_MESSAGE",{$error:t.reason?t.reason:t.message})})]})};t.TokenMigrationFormUI=x;var v=(0,c.connect)(e=>({isDemoMode:(0,_.getIsDemoMode)(e)}))(({migration:e,isSubmitting:t,error:n,isDemoMode:r,changeMigration:o,onComplete:a})=>{var i;const s=(0,_.useSelector)(_.getStoreAccounts),{networks:c}=(0,A.useNetworks)(),{getAssetByUUID:u}=(0,A.useAssets)(),l=c.find(e=>e.baseAsset===f.PLQUUID),T=(0,_.useSelector)((0,_.getDefaultAccount)()),O=s.filter(g.isEthereumAccount),p=R.MIGRATION_CONFIGS[e],d=null!=(i=u(p.fromAssetUuid))?i:{},b=s.find(e=>e.assets.find(({uuid:e})=>e===p.fromAssetUuid));return(0,y.jsx)(x,{isSubmitting:t,network:l,relevantAccounts:O,storeDefaultAccount:null!=b?b:T,defaultAsset:d,error:n,migration:e,changeMigration:o,onComplete:a,isDemoMode:r})});t.default=v},2815:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2728);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},2816:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMigrationTx=t.createApproveTx=void 0;var r=n(11),o=n(95),a=n(446),i=n(8),s=n(2728);const c=["gasLimit","nonce"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.createApproveTx=e=>(0,o.formatApproveTx)({contractAddress:e.asset.contractAddress,baseTokenAmount:(0,i.toWei)(e.amount,r.DEFAULT_ASSET_DECIMAL),spenderAddress:s.MIGRATION_CONTRACT,form:e});t.createMigrationTx=e=>{const t=a.AaveMigrator.migrateFromLEND.encodeInput({amount:(0,i.toWei)(e.amount,r.DEFAULT_ASSET_DECIMAL)}),n=(0,o.makeTxFromForm)(l(l({},e),{},{address:s.MIGRATION_CONTRACT}),"0",t),{gasLimit:u,nonce:T}=n;return f(n,c)}},2817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2729);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},2818:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMigrationTx=t.createApproveTx=void 0;var r=n(11),o=n(95),a=n(76),i=n(8),s=n(2729);const c=["gasLimit","nonce"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.createApproveTx=e=>(0,o.formatApproveTx)({contractAddress:e.asset.contractAddress,baseTokenAmount:(0,i.toWei)(e.amount,r.DEFAULT_ASSET_DECIMAL),spenderAddress:s.MIGRATION_CONTRACT,form:e});t.createMigrationTx=e=>{const t=a.AntMigrator.migrate.encodeInput({_amount:(0,i.toWei)(e.amount,r.DEFAULT_ASSET_DECIMAL)}),n=(0,o.makeTxFromForm)(l(l({},e),{},{address:s.MIGRATION_CONTRACT}),"0",t),{gasLimit:u,nonce:T}=n;return f(n,c)}},2819:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2730);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},2820:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGolemMigrationTx=void 0;var r=n(11),o=n(95),a=n(76),i=n(8),s=n(2730);const c=["gasLimit","nonce"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.createGolemMigrationTx=e=>{const t=a.GolemV2Migration.migrate.encodeInput({_value:(0,i.toWei)(e.amount,r.DEFAULT_ASSET_DECIMAL)}),n=(0,o.makeTxFromForm)(l(l({},e),{},{address:s.golemTokenMigrationConfig.fromContractAddress}),"0",t),{gasLimit:u,nonce:T}=n;return f(n,c)}},2821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2731);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},2822:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRepMigrationTx=t.createApproveTx=void 0;var r=n(11),o=n(95),a=n(76),i=n(8),s=n(2731);const c=["gasLimit","nonce"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.createApproveTx=e=>(0,o.formatApproveTx)({contractAddress:e.asset.contractAddress,baseTokenAmount:(0,i.toWei)(e.amount,r.DEFAULT_ASSET_DECIMAL),spenderAddress:s.repTokenMigrationConfig.toContractAddress,form:e});t.createRepMigrationTx=e=>{const t=a.RepV2Token.migrateFromLegacyReputationToken.encodeInput({}),n=(0,o.makeTxFromForm)(l(l({},e),{},{address:s.repTokenMigrationConfig.toContractAddress}),"0",t),{gasLimit:r,nonce:i}=n;return f(n,c)}},2823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({currentTxIdx:e,transactions:t,flowConfig:n,onComplete:r,error:c}){const u=t.map(e=>(0,o.default)(["status"],e)),l=u.findIndex(e=>e===i.ITxStatus.BROADCASTED),T=n.txConstructionConfigs.map((e,t)=>({title:e.stepTitle,icon:e.stepSvg,content:e.stepContent,buttonText:e.actionBtnText,loading:u[t]===i.ITxStatus.BROADCASTED,onClick:r}));return(0,s.jsx)("div",{children:(0,s.jsx)(a.VerticalStepper,{currentStep:-1===l?e:l,steps:T,error:void 0!==c})})};var r,o=(r=n(331))&&r.__esModule?r:{default:r},a=n(14),i=n(16),s=n(4)},2824:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({account:e,amount:t,transactions:n,flowConfig:l,onComplete:T}){const{settings:f}=(0,i.useSettings)(),{getAssetByUUID:O,assets:p}=(0,i.useAssets)(),{getAssetRate:d}=(0,i.useRates)(),{getNetworkById:A}=(0,i.useNetworks)(),g=n.map((n,r)=>{const o=l.txConstructionConfigs[r].txType,i=o===s.ITxType.APPROVAL?(0,a.makeTxConfigFromTx)(n.txRaw,p,e.network,[e]):(0,c.makeTokenMigrationTxConfig)(n.txRaw,e,t)(l);return(0,a.makeTxItem)(o,i,n.txHash,n.txReceipt)}),_=A(g[0].txConfig.networkId),b=O(_.baseAsset),m=d(b),I=l.txConstructionConfigs.map(e=>({title:e.stepTitle,icon:e.stepSvg})),E=(0,o.getFiat)(f),R=l.txConstructionConfigs[l.txConstructionConfigs.length-1];return(0,u.jsx)(r.MultiTxReceipt,{txType:R.txType,transactions:n,transactionsConfigs:g.map(({txConfig:e})=>e),steps:I,account:e,network:e.network,baseAssetRate:m,fiat:E,resetFlow:T,onComplete:T})};var r=n(658),o=n(134),a=n(95),i=n(33),s=n(16),c=n(2722),u=n(4)},2825:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.tokenMigrationReducer=void 0;const i=(e,t)=>{switch(t.type){case i.actionTypes.SELECT_MIGRATION:return o(o({},e),{},{migration:t.payload});case i.actionTypes.FORM_SUBMIT:{const{account:n,amount:r}=t.payload;return o(o({},e),{},{account:n,amount:r})}default:return e}};t.tokenMigrationReducer=i,i.actionTypes={SELECT_MIGRATION:"SELECT_MIGRATION",FORM_SUBMIT:"FORM_SUBMIT"}}}]);
//# sourceMappingURL=TokenMigration.cbbce220ee44b4b26cb8.js.map