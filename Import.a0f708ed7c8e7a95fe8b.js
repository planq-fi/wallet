(self.webpackJsonp=self.webpackJsonp||[]).push([[11],{2696:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Import=void 0;var r,i=n(0),o=n(44),s=n(96),a=n(79),d=(r=n(6))&&r.__esModule?r:{default:r},c=n(14),l=n(25),u=n(9),p=n(8),f=n(2747),m=n(4);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=d.default.div.withConfig({displayName:"Import__Content",componentId:"sc-6d5bm0-0"})(["text-align:center;"]);class S extends i.Component{constructor(...e){super(...e),g(this,"state",{step:0}),g(this,"advanceStep",()=>this.setState(()=>({step:1}))),g(this,"regressStep",()=>this.setState(e=>({step:Math.min(0,e.step-1)})))}render(){const{history:e,importState:t,importSuccess:n,importFailure:r}=this.props,{step:i}=this.state,o=[{heading:(0,u.translateRaw)("SETTINGS_IMPORT_HEADING"),component:f.ImportBox,backOption:()=>(0,p.goBack)(e)},{heading:(0,u.translateRaw)("SETTINGS_IMPORT_SUCCESS_HEADING"),component:f.ImportSuccess,backOption:this.regressStep}],s=o[i].backOption,a=o[i].component;return(0,m.jsx)(c.ContentPanel,{width:560,onBack:s,heading:o[i].heading,stepper:{current:i+1,total:o.length},children:(0,m.jsx)(h,{children:(0,m.jsx)(a,{onNext:this.advanceStep,importSuccess:n,importFailure:r,importState:t})})})}}t.Import=S;const _=(0,s.connect)(e=>({importSuccess:(0,l.importSuccess)(e),importFailure:!!(0,l.importError)(e)}),e=>(0,o.bindActionCreators)({importState:l.importState},e));var I=(0,a.withRouter)(_(S));t.default=I},2747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImportBox",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ImportSuccess",{enumerable:!0,get:function(){return i.default}});var r=o(n(2748)),i=o(n(2749));function o(e){return e&&e.__esModule?e:{default:e}}},2748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=d(n(6)),o=n(14),s=d(n(9)),a=n(4);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=i.default.label.withConfig({displayName:"ImportBox__FilePicker",componentId:"sc-15iagde-0"})(["background:none;color:#1eb8e7;cursor:pointer;"]),u=i.default.input.withConfig({displayName:"ImportBox__FilePickerInput",componentId:"sc-15iagde-1"})(["display:none !important;"]),p=i.default.div.withConfig({displayName:"ImportBox__ImportBoxContainer",componentId:"sc-15iagde-2"})(["color:#9b9b9b;background:#e8eaed;padding:6rem;border-radius:0.375em;box-shadow:",";"],e=>e.dragging?"0px 0px 0px 2px #1eb8e7;":"none");class f extends r.Component{constructor(...e){super(...e),c(this,"state",{dragging:!1}),c(this,"submit",e=>{const{importState:t}=this.props;t(e)}),c(this,"handleFileSelection",e=>{const t=new FileReader;if(t.onload=()=>{t.result&&this.submit(t.result)},e.target.files&&e.target.files[0]){const n=e.target.files[0];t.readAsText(n,"utf-8")}if(e.dataTransfer&&e.dataTransfer.items&&"file"===e.dataTransfer.items[0].kind){const n=e.dataTransfer.items[0].getAsFile();t.readAsText(n,"utf-8")}})}async componentDidUpdate(){const{importSuccess:e,onNext:t}=this.props;e&&t()}render(){const{dragging:e}=this.state,{importFailure:t}=this.props;return(0,a.jsxs)(p,{onDrop:this.handleFileSelection,onDragOver:()=>this.setState({dragging:!0}),onDragLeave:()=>this.setState({dragging:!1}),dragging:e,children:[t?(0,a.jsx)(o.InlineMessage,{children:(0,s.default)("SETTINGS_IMPORT_INVALID")}):(0,s.default)("SETTINGS_IMPORT_COPY"),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsxs)(l,{htmlFor:"upload",children:[(0,s.default)("SETTINGS_IMPORT_BUTTON"),(0,a.jsx)(u,{"data-testid":"upload-input",id:"upload",type:"file",onChange:this.handleFileSelection})]})," ",(0,s.default)("SETTINGS_IMPORT_PASTE"),(0,a.jsx)("br",{})]})}}t.default=f},2749:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,s.jsxs)(d,{children:[(0,o.default)("SETTINGS_IMPORT_SUCCESS"),(0,s.jsx)(i.LinkApp,{href:"/settings",children:(0,s.jsx)(i.Button,{fullwidth:!0,secondary:!0,children:(0,o.default)("SETTINGS_IMPORT_COMPLETE")})})]})};var r=a(n(6)),i=n(14),o=a(n(9)),s=n(4);function a(e){return e&&e.__esModule?e:{default:e}}const d=r.default.div.withConfig({displayName:"ImportSuccess__ImportSuccessContainer",componentId:"sc-16tbd6j-0"})(["display:flex;flex-direction:column;align-items:center;"])}}]);
//# sourceMappingURL=Import.a0f708ed7c8e7a95fe8b.js.map