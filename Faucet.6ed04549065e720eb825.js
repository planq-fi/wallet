(self.webpackJsonp=self.webpackJsonp||[]).push([[10],{2711:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(2803))&&n.__esModule?n:{default:n}},2803:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,s.useHistory)(),{faucetState:t,reset:r,setSolution:i,requestFunds:m,finalizeRequestFunds:T}=(0,C.useStateReducer)(x.default,U),j=(0,g.useSelector)(g.getStoreAccounts),{addTxToAccount:k}=(0,p.useAccounts)(),M=j.filter(e=>f.FAUCET_NETWORKS.includes(e.network.id)),{networks:L,getNetworkById:D}=(0,p.useNetworks)(),{assets:B}=(0,p.useAssets)(),{getContactByAddressAndNetworkId:z}=(0,p.useContacts)(),[G,H]=(0,n.useState)(void 0),W=t.txResult&&(0,b.makeTxConfig)(t.txResult,L,B,j,z),q=W&&(0,b.makeTxReceipt)(t.txResult,W);(0,n.useEffect)(()=>{if(q){const e=(0,p.getStoreAccount)(j)(q.to,q.baseAsset.networkId);e&&k(e,q)}},[t.txResult]);const K=[(0,A.jsx)(o.Formik,{initialValues:{recipientAddress:{}},onSubmit:C.noOp,render:({values:{recipientAddress:e}})=>(0,A.jsxs)(o.Form,{children:[(0,A.jsx)(N,{children:(0,_.default)("FAUCET_DESCRIPTION")}),(0,A.jsxs)(y,{children:[(0,A.jsx)(E,{htmlFor:"recipientAddress",children:(0,_.default)("X_RECIPIENT")}),(0,A.jsx)(o.Field,{name:"recipientAddress",component:({field:e,form:t})=>(0,A.jsx)(u.AccountSelector,{name:e.name,value:e.value,accounts:M,onSelect:r=>{t.setFieldValue(e.name,r),H(D(r.networkId))}})})]}),0===M.length&&(0,A.jsx)(I,{type:h.InlineMessageType.ERROR,children:(0,A.jsx)(_.Trans,{id:"FAUCET_NO_ACCOUNTS",variables:{$link_add_account:()=>(0,A.jsx)(u.LinkApp,{href:f.ROUTE_PATHS.ADD_ACCOUNT.path,children:(0,_.translateRaw)("FAUCET_ADD_ACCOUNT_LINK")}),$link_create_account:()=>(0,A.jsx)(u.LinkApp,{href:f.ROUTE_PATHS.ADD_ACCOUNT.path,children:(0,_.translateRaw)("FAUCET_CREATE_ACCOUNT_LINK")})}})}),(0,A.jsx)(v,{name:"requestFunds",onClick:()=>m(e),disabled:0===Object.keys(e).length,children:(0,_.default)("REQUEST")}),(0,A.jsxs)(P,{children:[(0,_.default)("FAUCET_NOT_SURE"),(0,A.jsx)("br",{}),(0,A.jsx)(u.LinkApp,{href:(0,f.getKBHelpArticle)(f.KB_HELP_ARTICLE.WHERE_TO_GET_TESTNET_ETHER),isExternal:!0,children:(0,_.default)("VISIT_KB")})]})]})},"recipient"),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(w,{children:[(0,A.jsx)(R,{as:"h3",children:(0,_.translateRaw)("CAPTCHA")}),(0,A.jsx)(a.Tooltip,{tooltip:(0,_.default)("CAPTCHA_TOOLTIP"),children:(0,A.jsx)("img",{className:"Tool-tip-img",src:c.default})})]}),t.challenge&&(0,A.jsx)("div",{style:{width:"100%",marginBottom:"20px"},children:(0,A.jsx)("img",{style:{width:"100%"},src:"data:image/png;base64,"+t.challenge.challenge})}),(0,A.jsx)(a.Input,{value:t.solution,name:"captcha",placeholder:(0,_.translateRaw)("FAUCET_ENTER_RESPONSE"),onChange:e=>{i(e.target.value)}}),t.error&&"INVALID_SOLUTION"===t.error&&(0,A.jsx)(S,{type:h.InlineMessageType.ERROR,children:(0,_.translateRaw)("CAPTCHA_INCORRECT_RESPONSE")}),(0,A.jsx)(F,{name:"submitCaptcha",onClick:()=>T(t.solution),disabled:t.loading||!(0,b.possibleSolution)(t.solution),children:(0,_.translateRaw)("CAPTCHA_SUBMIT")})]}),(0,A.jsx)(A.Fragment,{children:t.txResult&&(0,A.jsx)(u.TxReceipt,{txConfig:W,txReceipt:q,onComplete:()=>r(),resetFlow:()=>r(),queryStringsDisabled:!0,customBroadcastText:(0,_.translateRaw)("FAUCET_SUCCESS"),disablePendingState:!0,customComponent:()=>(0,A.jsx)(d.FaucetReceiptBanner,{network:G,received:t.txResult.value}),completeButton:()=>(0,A.jsx)(u.LinkApp,{href:(0,C.generateTweet)((0,_.translateRaw)("FAUCET_TWEET",{$faucet_url:f.MYCRYPTO_FAUCET_LINK})),isExternal:!0,children:(0,A.jsxs)(u.Button,{colorScheme:"inverted",fullwidth:!0,className:"TransactionReceipt-tweet",children:[(0,A.jsx)("i",{className:"sm-icon sm-logo-twitter TransactionReceipt-tweet-icon"})," ",(0,A.jsx)("span",{className:"TransactionReceipt-tweet-text",children:(0,_.default)("FAUCET_SHARE")})]})})})})];return(0,A.jsx)(u.ExtendedContentPanel,{heading:(0,_.translateRaw)("FAUCET"),icon:l.default,onBack:()=>e.push(f.ROUTE_PATHS.DASHBOARD.path),stepper:{current:t.step+1,total:K.length},width:"750px",children:t.error&&"INVALID_SOLUTION"!==t.error?(0,A.jsx)(O.Error,{type:t.error}):K[t.step]})};var n=r(0),a=r(36),o=r(329),s=r(79),i=j(r(6)),c=j(r(661)),l=j(r(657)),u=r(14),d=r(226),f=r(11),p=r(43),g=r(25),m=r(7),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(9)),h=r(16),C=r(8),O=r(2804),b=r(2806),x=j(r(2807)),A=r(4);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function j(e){return e&&e.__esModule?e:{default:e}}const E=i.default.label.withConfig({displayName:"Faucet__SLabel",componentId:"dfpzzx-0"})(["margin-bottom:",";color:",";font-weight:normal;"],m.SPACING.SM,m.COLORS.GREY_DARKEST),y=i.default.fieldset.withConfig({displayName:"Faucet__Fieldset",componentId:"dfpzzx-1"})(["margin-bottom:",";"],m.SPACING.BASE),w=i.default.div.withConfig({displayName:"Faucet__CodeHeader",componentId:"dfpzzx-2"})(["display:flex;align-items:center;"]),R=(0,i.default)(a.Heading).withConfig({displayName:"Faucet__CodeHeading",componentId:"dfpzzx-3"})(["margin-top:",";"],m.SPACING.SM),I=(0,i.default)(u.InlineMessage).withConfig({displayName:"Faucet__NoTestnetAccounts",componentId:"dfpzzx-4"})(["margin-bottom:",";"],m.SPACING.BASE),S=(0,i.default)(u.InlineMessage).withConfig({displayName:"Faucet__IncorrectResponse",componentId:"dfpzzx-5"})(["margin-top:",";"],m.SPACING.SM),N=i.default.p.withConfig({displayName:"Faucet__Description",componentId:"dfpzzx-6"})(["margin-bottom:",";"],m.SPACING.MD),P=i.default.div.withConfig({displayName:"Faucet__CenterText",componentId:"dfpzzx-7"})(["margin-top:",";text-align:center;"],m.SPACING.MD),v=(0,i.default)(u.Button).withConfig({displayName:"Faucet__RequestButton",componentId:"dfpzzx-8"})(["width:100%;"]),F=(0,i.default)(u.Button).withConfig({displayName:"Faucet__SubmitCaptchaButton",componentId:"dfpzzx-9"})(["width:100%;margin-top:",";"],m.SPACING.MD),U=()=>({step:0,loading:!1})},2804:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Error",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(2805))&&n.__esModule?n:{default:n}},2805:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(6)),a=r(14),o=r(7),s=u(r(9)),i=r(16),c=r(8),l=r(4);function u(e){return e&&e.__esModule?e:{default:e}}const d=n.default.div.withConfig({displayName:"Error__Box",componentId:"sc-1kfpno7-0"})(["border:1px solid ",";box-sizing:border-box;border-radius:2px;margin-top:",";"],o.COLORS.WARNING_ORANGE,o.SPACING.LG),f=(0,n.default)(a.InlineMessage).withConfig({displayName:"Error__ContactUsText",componentId:"sc-1kfpno7-1"})(["font-style:italic;font-size:14px;margin:",";a,a:hover{color:",";text-decoration:none;font-weight:bold;}"],o.SPACING.BASE,o.COLORS.BLUE_MYC),p=e=>{switch(e){case"API_FAILURE":return(0,l.jsx)("p",{children:(0,s.default)("FAUCET_API_FAILURE")});case"RUNNING_LOW":return(0,l.jsx)("p",{children:(0,s.default)("FAUCET_RUNNING_LOW")});case"DAILY_LIMIT_REACHED":return(0,l.jsx)("p",{children:(0,s.default)("FAUCET_LIMIT_REACHED")});default:return(0,l.jsx)("p",{children:(0,s.default)("FAUCET_UNKNOWN_ERROR")})}};var g=({type:e})=>(0,l.jsxs)(l.Fragment,{children:[p(e),(0,l.jsx)(d,{children:(0,l.jsx)(f,{type:i.InlineMessageType.WARNING,children:(0,s.default)("FAUCET_ERROR",{$link:(0,c.formatSupportEmail)("Issue with FAUCET","Issue: "+e)})})})]});t.default=g},2806:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeTxReceipt=t.makeTxConfig=t.possibleSolution=void 0;var n=r(46),a=r(95),o=r(16);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.possibleSolution=e=>/^[a-zA-Z0-9]{4}$/.test(e);t.makeTxConfig=(e,t,r,o,s)=>{const c=((e,t=[])=>{const r=e.charAt(0).toUpperCase()+e.slice(1);return t.find(e=>e.id===r)})(e.network,t),l=s(e.from,c.id),u=i(i({},e),{},{gasLimit:n.BigNumber.from(e.gasLimit),maxPriorityFeePerGas:n.BigNumber.from(e.maxPriorityFeePerGas),maxFeePerGas:n.BigNumber.from(e.maxFeePerGas),type:2,value:n.BigNumber.from(e.value)});return i(i({},(0,a.makeTxConfigFromTx)(u,r,c,o)),{},{senderAccount:l})};t.makeTxReceipt=(e,t)=>(0,a.toTxReceipt)(e.hash,o.ITxStatus.PENDING)(o.ITxType.FAUCET,t)},2807:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(2808);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=({state:e,setState:t})=>({reset:()=>{t(()=>({step:0,loading:!1}))},setSolution:e=>{t(t=>o(o({},t),{},{solution:e}))},requestFunds:e=>{const r=e.network.name.toLowerCase(),a=e.address;n.FaucetService.requestChallenge(r,a).then(e=>{if(!e.success)throw new Error(e.message);t(t=>o(o({},t),{},{challenge:e.result,step:1}))}).catch(e=>{t(t=>o(o({},t),{},{error:e.message}))})},finalizeRequestFunds:r=>{if(e.challenge){const a=e.challenge.id;t(e=>o(o({},e),{},{loading:!0})),n.FaucetService.solveChallenge(a,r).then(e=>{if(!e.success)throw new Error(e.message);t(t=>o(o({},t),{},{loading:!1,txResult:e.result,step:2}))}).catch(e=>{"INVALID_SOLUTION"===e.message?n.FaucetService.regenerateChallenge(a).then(r=>{if(!r.success)throw new Error(r.message);t(t=>o(o({},t),{},{solution:"",challenge:r.result,error:e.message,loading:!1}))}).catch(e=>{t(t=>o(o({},t),{},{error:e.message}))}):t(t=>o(o({},t),{},{loading:!1,error:e.message}))})}},faucetState:e});t.default=i},2808:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={FaucetService:!0};Object.defineProperty(t,"FaucetService",{enumerable:!0,get:function(){return o.default}});var a,o=(a=r(2809))&&a.__esModule?a:{default:a},s=r(2810);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}))},2809:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(11),a=r(105);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s{}t.default=s,o(s,"requestChallenge",async(e,t)=>{const{data:r}=await s.service.get(`/challenge/${e}/${t}`).catch();return r}),o(s,"solveChallenge",async(e,t)=>{const{data:r}=await s.service.get(`/solve/${e}/${t}`).catch();return r}),o(s,"regenerateChallenge",async e=>{const{data:t}=await s.service.get("/regenerate/"+e).catch();return t}),o(s,"service",a.ApiService.generateInstance({baseURL:n.FAUCET_API,timeout:5e3}))},2810:function(e,t,r){}}]);
//# sourceMappingURL=Faucet.6ed04549065e720eb825.js.map